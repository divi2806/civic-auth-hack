"use client";
import { CivicAuthProvider as CivicNextAuthProvider } from "@civic/auth/nextjs";
import React, { useCallback, useState } from "react";
import {} from "../types.js";
import { Web3UserProvider } from "../components/Web3UserProvider.js";
// A wrapper around civic auth that injects an embedded wallet.
// TODO remove this and just use components/CivicAuthProvider.tsx
export function CivicAuthProvider({ children, ...props }) {
    // allow the embedded wallet to add a hook to the logout process, ensuring its state gets cleaned up
    // for security reasons, and to avoid bugs when changing users
    const [logoutCallback, setLogoutCallback] = useState();
    const registerLogout = useCallback((callback) => setLogoutCallback(() => callback), [setLogoutCallback]);
    return (React.createElement(CivicNextAuthProvider, { ...props, onSignOut: async () => {
            await logoutCallback?.();
        } },
        React.createElement(Web3UserProvider, { registerLogoutCallback: registerLogout, ...props }, children)));
}
//# sourceMappingURL=CivicAuthProvider.js.map