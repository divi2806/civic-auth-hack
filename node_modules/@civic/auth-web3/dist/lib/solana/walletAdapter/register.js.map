{"version":3,"file":"register.js","sourceRoot":"","sources":["../../../../src/lib/solana/walletAdapter/register.ts"],"names":[],"mappings":"AAAA,8CAA8C;AAU9C,MAAM,UAAU,cAAc,CAAC,MAAc;IAC3C,MAAM,QAAQ,GAAsC,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE,CACnE,QAAQ,CAAC,MAAM,CAAC,CAAC;IACnB,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;QAC3D,OAAO;IACT,CAAC;IACD,IAAI,CAAC;QACF,MAA6B,CAAC,aAAa,CAC1C,IAAI,mBAAmB,CAAC,QAAQ,CAAC,CAClC,CAAC;IACJ,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CACX,iEAAiE,EACjE,KAAK,CACN,CAAC;IACJ,CAAC;IACD,IAAI,CAAC;QACF,MAA6B,CAAC,gBAAgB,CAC7C,2BAA2B,EAC3B,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CACnC,CAAC;IACJ,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CACX,+DAA+D,EAC/D,KAAK,CACN,CAAC;IACJ,CAAC;AACH,CAAC;AAED,MAAM,OAAO,mBACX,SAAQ,KAAK;IAGJ,OAAO,CAAoC;IAEpD,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,IAAa,IAAI;QACf,OAAO,iCAA0C,CAAC;IACpD,CAAC;IAED,YAAY,QAA2C;QACrD,KAAK,CAAC,iCAAiC,EAAE;YACvC,OAAO,EAAE,KAAK;YACd,UAAU,EAAE,KAAK;YACjB,QAAQ,EAAE,KAAK;SAChB,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC;IAC1B,CAAC;IAED,kBAAkB;IACT,cAAc;QACrB,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC,CAAC;IACrD,CAAC;IAED,kBAAkB;IACT,wBAAwB;QAC/B,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;IAC/D,CAAC;IAED,kBAAkB;IACT,eAAe;QACtB,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;IACtD,CAAC;CACF;AAED,kBAAkB;AAClB,MAAM,UAAU,yBAAyB,CAAC,MAAc;IACtD,cAAc,CAAC,MAAM,CAAC,CAAC;IACvB,IAAI,CAAC;QACH,CAAE,MAAmC,CAAC,SAAS,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,IAAI,CAClE,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,CACnC,CAAC;IACJ,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,gDAAgD,EAAE,KAAK,CAAC,CAAC;IACzE,CAAC;AACH,CAAC","sourcesContent":["// This is copied from @wallet-standard/wallet\n\nimport type {\n  DEPRECATED_WalletsWindow,\n  Wallet,\n  WalletEventsWindow,\n  WindowRegisterWalletEvent,\n  WindowRegisterWalletEventCallback,\n} from \"@wallet-standard/base\";\n\nexport function registerWallet(wallet: Wallet): void {\n  const callback: WindowRegisterWalletEventCallback = ({ register }) =>\n    register(wallet);\n  if (typeof window === \"undefined\" || !window.dispatchEvent) {\n    return;\n  }\n  try {\n    (window as WalletEventsWindow).dispatchEvent(\n      new RegisterWalletEvent(callback),\n    );\n  } catch (error) {\n    console.error(\n      \"wallet-standard:register-wallet event could not be dispatched\\n\",\n      error,\n    );\n  }\n  try {\n    (window as WalletEventsWindow).addEventListener(\n      \"wallet-standard:app-ready\",\n      ({ detail: api }) => callback(api),\n    );\n  } catch (error) {\n    console.error(\n      \"wallet-standard:app-ready event listener could not be added\\n\",\n      error,\n    );\n  }\n}\n\nexport class RegisterWalletEvent\n  extends Event\n  implements WindowRegisterWalletEvent\n{\n  readonly #detail: WindowRegisterWalletEventCallback;\n\n  get detail() {\n    return this.#detail;\n  }\n\n  override get type() {\n    return \"wallet-standard:register-wallet\" as const;\n  }\n\n  constructor(callback: WindowRegisterWalletEventCallback) {\n    super(\"wallet-standard:register-wallet\", {\n      bubbles: false,\n      cancelable: false,\n      composed: false,\n    });\n    this.#detail = callback;\n  }\n\n  /** @deprecated */\n  override preventDefault(): never {\n    throw new Error(\"preventDefault cannot be called\");\n  }\n\n  /** @deprecated */\n  override stopImmediatePropagation(): never {\n    throw new Error(\"stopImmediatePropagation cannot be called\");\n  }\n\n  /** @deprecated */\n  override stopPropagation(): never {\n    throw new Error(\"stopPropagation cannot be called\");\n  }\n}\n\n/** @deprecated */\nexport function DEPRECATED_registerWallet(wallet: Wallet): void {\n  registerWallet(wallet);\n  try {\n    ((window as DEPRECATED_WalletsWindow).navigator.wallets ||= []).push(\n      ({ register }) => register(wallet),\n    );\n  } catch (error) {\n    console.error(\"window.navigator.wallets could not be pushed\\n\", error);\n  }\n}\n"]}