"use client";
import { jsx as _jsx } from "@emotion/react/jsx-runtime";
import { useEffect, useState } from "react";
import { useUser } from "../../reactjs/hooks/useUser.js";
import { ButtonContentOrLoader } from "./ButtonContentOrLoader.js";
import { AuthStatus } from "../../types.js";
const SignOutButton = ({ className, style, }) => {
    const { signOut, authStatus, displayMode } = useUser();
    const [userActionStarted, setUserActionStarted] = useState(false);
    // reset the userActionStarted state if the user logs out or aborts
    useEffect(() => {
        if ([AuthStatus.AUTHENTICATED, AuthStatus.UNAUTHENTICATED].includes(authStatus)) {
            setUserActionStarted(false);
        }
    }, [authStatus]);
    return (_jsx("button", { css: {
            borderRadius: "9999px",
            border: "1px solid #6b7280",
            padding: "0.75rem 1rem",
            transition: "background-color 0.2s",
        }, className: className, style: style, onClick: () => signOut(), children: _jsx(ButtonContentOrLoader, { authStatus: authStatus, displayMode: displayMode, userActionStarted: userActionStarted, children: "Sign Out" }) }));
};
export { SignOutButton };
//# sourceMappingURL=SignOutButton.js.map